{"ast":null,"code":"import _objectSpread from\"D:/MyGame/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useEffect,useRef,useState,useCallback}from'react';// 테트리스 블록 타입 정의\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";// 블록 모양 정의\nconst BLOCKS={I:[[1,1,1,1]],O:[[1,1],[1,1]],T:[[0,1,0],[1,1,1]],L:[[1,0],[1,0],[1,1]],J:[[0,1],[0,1],[1,1]],S:[[0,1,1],[1,1,0]],Z:[[1,1,0],[0,1,1]]};// 블록 색상 정의\nconst COLORS={I:'#00f0f0',O:'#f0f000',T:'#a000f0',L:'#f0a000',J:'#0000f0',S:'#00f000',Z:'#f00000'};// 게임 보드 크기\nconst BOARD_WIDTH=10;const BOARD_HEIGHT=20;const BLOCK_SIZE=30;const TetrisGame=()=>{const canvasRef=useRef(null);const[gameOver,setGameOver]=useState(false);const[score,setScore]=useState(0);const[isPlaying,setIsPlaying]=useState(false);// 게임 상태\nconst[board,setBoard]=useState(Array(BOARD_HEIGHT).fill(null).map(()=>Array(BOARD_WIDTH).fill(0)));const[currentBlock,setCurrentBlock]=useState(null);// 새로운 블록 생성\nconst createNewBlock=useCallback(()=>{const types=['I','O','T','L','J','S','Z'];const type=types[Math.floor(Math.random()*types.length)];const shape=BLOCKS[type];setCurrentBlock({type,position:{x:Math.floor(BOARD_WIDTH/2)-Math.floor(shape[0].length/2),y:0},shape});},[]);// 게임 오버 처리 함수 추가\nconst handleGameOver=useCallback(()=>{setGameOver(true);setIsPlaying(false);setScore(0);},[]);// 게임 시작\nconst startGame=useCallback(()=>{setBoard(Array(BOARD_HEIGHT).fill(null).map(()=>Array(BOARD_WIDTH).fill(0)));setScore(0);setGameOver(false);setIsPlaying(true);createNewBlock();},[createNewBlock]);// 이동 가능 여부 확인\nconst isValidMove=useCallback((position,shape)=>{for(let y=0;y<shape.length;y++){for(let x=0;x<shape[y].length;x++){if(shape[y][x]){const boardX=position.x+x;const boardY=position.y+y;if(boardX<0||boardX>=BOARD_WIDTH||boardY>=BOARD_HEIGHT||boardY>=0&&board[boardY][boardX]){return false;}}}}return true;},[board]);// 블록 배치\nconst placeBlock=useCallback(()=>{if(!currentBlock)return;const newBoard=[...board];for(let y=0;y<currentBlock.shape.length;y++){for(let x=0;x<currentBlock.shape[y].length;x++){if(currentBlock.shape[y][x]){const boardY=currentBlock.position.y+y;const boardX=currentBlock.position.x+x;// 게임 오버 조건: 블록이 화면 상단을 벗어나거나 다른 블록과 겹칠 때\nif(boardY<0||boardY<BOARD_HEIGHT&&newBoard[boardY][boardX]===1){handleGameOver();return;}if(boardY<BOARD_HEIGHT){newBoard[boardY][boardX]=1;}}}}setBoard(newBoard);checkLines(newBoard);createNewBlock();},[currentBlock,board,createNewBlock,handleGameOver]);// 블록 이동\nconst moveBlock=useCallback((dx,dy)=>{if(!currentBlock||gameOver)return;const newPosition={x:currentBlock.position.x+dx,y:currentBlock.position.y+dy};// 충돌 검사\nif(isValidMove(newPosition,currentBlock.shape)){setCurrentBlock(_objectSpread(_objectSpread({},currentBlock),{},{position:newPosition}));}else if(dy>0){// 바닥에 닿았을 때\nplaceBlock();}},[currentBlock,gameOver,isValidMove,placeBlock]);// 블록 회전\nconst rotateBlock=useCallback(()=>{if(!currentBlock||gameOver)return;const rotated=currentBlock.shape[0].map((_,i)=>currentBlock.shape.map(row=>row[i]).reverse());if(isValidMove(currentBlock.position,rotated)){setCurrentBlock(_objectSpread(_objectSpread({},currentBlock),{},{shape:rotated}));}},[currentBlock,gameOver,isValidMove]);// 라인 체크 및 제거\nconst checkLines=useCallback(newBoard=>{let linesCleared=0;for(let y=BOARD_HEIGHT-1;y>=0;y--){if(newBoard[y].every(cell=>cell===1)){newBoard.splice(y,1);newBoard.unshift(Array(BOARD_WIDTH).fill(0));linesCleared++;y++;}}if(linesCleared>0){setScore(prev=>prev+linesCleared*100);setBoard(newBoard);}},[]);// 하드 드롭 함수\nconst hardDrop=useCallback(()=>{if(!currentBlock||gameOver)return;let dropDistance=0;const shape=currentBlock.shape;const startPosition=currentBlock.position;// 최대 이동 가능 거리 계산\nwhile(isValidMove({x:startPosition.x,y:startPosition.y+dropDistance+1},shape)){dropDistance++;}// 최종 위치\nconst finalPosition={x:startPosition.x,y:startPosition.y+dropDistance};// 블록을 보드에 바로 고정\nconst newBoard=[...board];for(let y=0;y<shape.length;y++){for(let x=0;x<shape[y].length;x++){if(shape[y][x]){const boardX=finalPosition.x+x;const boardY=finalPosition.y+y;if(boardY<0||boardY<BOARD_HEIGHT&&newBoard[boardY][boardX]===1){handleGameOver();return;}if(boardY<BOARD_HEIGHT){newBoard[boardY][boardX]=1;}}}}setBoard(newBoard);checkLines(newBoard);createNewBlock();},[currentBlock,board,gameOver,isValidMove,handleGameOver,checkLines,createNewBlock]);// 게임 루프\nuseEffect(()=>{if(!isPlaying)return;const gameLoop=setInterval(()=>{moveBlock(0,1);},1000);return()=>clearInterval(gameLoop);},[isPlaying,moveBlock]);// 키보드 이벤트 처리\nuseEffect(()=>{const handleKeyPress=e=>{if(!isPlaying)return;switch(e.key){case'ArrowLeft':moveBlock(-1,0);break;case'ArrowRight':moveBlock(1,0);break;case'ArrowDown':moveBlock(0,1);break;case'ArrowUp':rotateBlock();break;case' ':hardDrop();break;}};window.addEventListener('keydown',handleKeyPress);return()=>window.removeEventListener('keydown',handleKeyPress);},[isPlaying,moveBlock,rotateBlock,hardDrop]);// 캔버스 렌더링\nuseEffect(()=>{const canvas=canvasRef.current;if(!canvas)return;const ctx=canvas.getContext('2d');if(!ctx)return;// 캔버스 초기화\nctx.clearRect(0,0,canvas.width,canvas.height);// 보드 그리기\nfor(let y=0;y<BOARD_HEIGHT;y++){for(let x=0;x<BOARD_WIDTH;x++){if(board[y][x]){ctx.fillStyle='#666';ctx.fillRect(x*BLOCK_SIZE,y*BLOCK_SIZE,BLOCK_SIZE-1,BLOCK_SIZE-1);}}}// 현재 블록 그리기\nif(currentBlock){ctx.fillStyle=COLORS[currentBlock.type];for(let y=0;y<currentBlock.shape.length;y++){for(let x=0;x<currentBlock.shape[y].length;x++){if(currentBlock.shape[y][x]){ctx.fillRect((currentBlock.position.x+x)*BLOCK_SIZE,(currentBlock.position.y+y)*BLOCK_SIZE,BLOCK_SIZE-1,BLOCK_SIZE-1);}}}}},[board,currentBlock]);return/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col items-center justify-center min-h-screen bg-gray-900 text-white\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-4xl font-bold mb-4\",children:\"\\uD14C\\uD2B8\\uB9AC\\uC2A4\"}),/*#__PURE__*/_jsx(\"div\",{className:\"mb-4\",children:/*#__PURE__*/_jsxs(\"p\",{className:\"text-xl\",children:[\"\\uC810\\uC218: \",score]})}),/*#__PURE__*/_jsx(\"canvas\",{ref:canvasRef,width:BOARD_WIDTH*BLOCK_SIZE,height:BOARD_HEIGHT*BLOCK_SIZE,className:\"border-2 border-gray-600\"}),!isPlaying&&/*#__PURE__*/_jsx(\"button\",{onClick:startGame,className:\"mt-4 px-6 py-2 bg-blue-500 hover:bg-blue-600 rounded-lg\",children:gameOver?'다시 시작':'게임 시작'}),gameOver&&/*#__PURE__*/_jsx(\"div\",{className:\"mt-4 text-red-500 text-xl\",children:\"\\uAC8C\\uC784 \\uC624\\uBC84!\"})]});};export default TetrisGame;","map":{"version":3,"names":["React","useEffect","useRef","useState","useCallback","jsx","_jsx","jsxs","_jsxs","BLOCKS","I","O","T","L","J","S","Z","COLORS","BOARD_WIDTH","BOARD_HEIGHT","BLOCK_SIZE","TetrisGame","canvasRef","gameOver","setGameOver","score","setScore","isPlaying","setIsPlaying","board","setBoard","Array","fill","map","currentBlock","setCurrentBlock","createNewBlock","types","type","Math","floor","random","length","shape","position","x","y","handleGameOver","startGame","isValidMove","boardX","boardY","placeBlock","newBoard","checkLines","moveBlock","dx","dy","newPosition","_objectSpread","rotateBlock","rotated","_","i","row","reverse","linesCleared","every","cell","splice","unshift","prev","hardDrop","dropDistance","startPosition","finalPosition","gameLoop","setInterval","clearInterval","handleKeyPress","e","key","window","addEventListener","removeEventListener","canvas","current","ctx","getContext","clearRect","width","height","fillStyle","fillRect","className","children","ref","onClick"],"sources":["D:/MyGame/src/components/TetrisGame.tsx"],"sourcesContent":["import React, { useEffect, useRef, useState, useCallback } from 'react';\r\n\r\n// 테트리스 블록 타입 정의\r\ntype BlockType = 'I' | 'O' | 'T' | 'L' | 'J' | 'S' | 'Z';\r\n\r\n// 블록 모양 정의\r\nconst BLOCKS = {\r\n    I: [[1, 1, 1, 1]],\r\n    O: [[1, 1], [1, 1]],\r\n    T: [[0, 1, 0], [1, 1, 1]],\r\n    L: [[1, 0], [1, 0], [1, 1]],\r\n    J: [[0, 1], [0, 1], [1, 1]],\r\n    S: [[0, 1, 1], [1, 1, 0]],\r\n    Z: [[1, 1, 0], [0, 1, 1]]\r\n};\r\n\r\n// 블록 색상 정의\r\nconst COLORS = {\r\n    I: '#00f0f0',\r\n    O: '#f0f000',\r\n    T: '#a000f0',\r\n    L: '#f0a000',\r\n    J: '#0000f0',\r\n    S: '#00f000',\r\n    Z: '#f00000'\r\n};\r\n\r\n// 게임 보드 크기\r\nconst BOARD_WIDTH = 10;\r\nconst BOARD_HEIGHT = 20;\r\nconst BLOCK_SIZE = 30;\r\n\r\nconst TetrisGame: React.FC = () => {\r\n    const canvasRef = useRef<HTMLCanvasElement>(null);\r\n    const [gameOver, setGameOver] = useState(false);\r\n    const [score, setScore] = useState(0);\r\n    const [isPlaying, setIsPlaying] = useState(false);\r\n\r\n    // 게임 상태\r\n    const [board, setBoard] = useState<number[][]>(\r\n        Array(BOARD_HEIGHT).fill(null).map(() => Array(BOARD_WIDTH).fill(0))\r\n    );\r\n    const [currentBlock, setCurrentBlock] = useState<{\r\n        type: BlockType;\r\n        position: { x: number; y: number };\r\n        shape: number[][];\r\n    } | null>(null);\r\n\r\n    // 새로운 블록 생성\r\n    const createNewBlock = useCallback(() => {\r\n        const types: BlockType[] = ['I', 'O', 'T', 'L', 'J', 'S', 'Z'];\r\n        const type = types[Math.floor(Math.random() * types.length)];\r\n        const shape = BLOCKS[type];\r\n\r\n        setCurrentBlock({\r\n            type,\r\n            position: { x: Math.floor(BOARD_WIDTH / 2) - Math.floor(shape[0].length / 2), y: 0 },\r\n            shape\r\n        });\r\n    }, []);\r\n\r\n    // 게임 오버 처리 함수 추가\r\n    const handleGameOver = useCallback(() => {\r\n        setGameOver(true);\r\n        setIsPlaying(false);\r\n        setScore(0);\r\n    }, []);\r\n\r\n    // 게임 시작\r\n    const startGame = useCallback(() => {\r\n        setBoard(Array(BOARD_HEIGHT).fill(null).map(() => Array(BOARD_WIDTH).fill(0)));\r\n        setScore(0);\r\n        setGameOver(false);\r\n        setIsPlaying(true);\r\n        createNewBlock();\r\n    }, [createNewBlock]);\r\n\r\n    // 이동 가능 여부 확인\r\n    const isValidMove = useCallback((position: { x: number; y: number }, shape: number[][]) => {\r\n        for (let y = 0; y < shape.length; y++) {\r\n            for (let x = 0; x < shape[y].length; x++) {\r\n                if (shape[y][x]) {\r\n                    const boardX = position.x + x;\r\n                    const boardY = position.y + y;\r\n\r\n                    if (\r\n                        boardX < 0 ||\r\n                        boardX >= BOARD_WIDTH ||\r\n                        boardY >= BOARD_HEIGHT ||\r\n                        (boardY >= 0 && board[boardY][boardX])\r\n                    ) {\r\n                        return false;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        return true;\r\n    }, [board]);\r\n\r\n    // 블록 배치\r\n    const placeBlock = useCallback(() => {\r\n        if (!currentBlock) return;\r\n\r\n        const newBoard = [...board];\r\n        for (let y = 0; y < currentBlock.shape.length; y++) {\r\n            for (let x = 0; x < currentBlock.shape[y].length; x++) {\r\n                if (currentBlock.shape[y][x]) {\r\n                    const boardY = currentBlock.position.y + y;\r\n                    const boardX = currentBlock.position.x + x;\r\n\r\n                    // 게임 오버 조건: 블록이 화면 상단을 벗어나거나 다른 블록과 겹칠 때\r\n                    if (boardY < 0 || (boardY < BOARD_HEIGHT && newBoard[boardY][boardX] === 1)) {\r\n                        handleGameOver();\r\n                        return;\r\n                    }\r\n\r\n                    if (boardY < BOARD_HEIGHT) {\r\n                        newBoard[boardY][boardX] = 1;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n        setBoard(newBoard);\r\n        checkLines(newBoard);\r\n        createNewBlock();\r\n    }, [currentBlock, board, createNewBlock, handleGameOver]);\r\n\r\n    // 블록 이동\r\n    const moveBlock = useCallback((dx: number, dy: number) => {\r\n        if (!currentBlock || gameOver) return;\r\n\r\n        const newPosition = {\r\n            x: currentBlock.position.x + dx,\r\n            y: currentBlock.position.y + dy\r\n        };\r\n\r\n        // 충돌 검사\r\n        if (isValidMove(newPosition, currentBlock.shape)) {\r\n            setCurrentBlock({\r\n                ...currentBlock,\r\n                position: newPosition\r\n            });\r\n        } else if (dy > 0) {\r\n            // 바닥에 닿았을 때\r\n            placeBlock();\r\n        }\r\n    }, [currentBlock, gameOver, isValidMove, placeBlock]);\r\n\r\n    // 블록 회전\r\n    const rotateBlock = useCallback(() => {\r\n        if (!currentBlock || gameOver) return;\r\n\r\n        const rotated = currentBlock.shape[0].map((_, i) =>\r\n            currentBlock.shape.map(row => row[i]).reverse()\r\n        );\r\n\r\n        if (isValidMove(currentBlock.position, rotated)) {\r\n            setCurrentBlock({\r\n                ...currentBlock,\r\n                shape: rotated\r\n            });\r\n        }\r\n    }, [currentBlock, gameOver, isValidMove]);\r\n\r\n    // 라인 체크 및 제거\r\n    const checkLines = useCallback((newBoard: number[][]) => {\r\n        let linesCleared = 0;\r\n\r\n        for (let y = BOARD_HEIGHT - 1; y >= 0; y--) {\r\n            if (newBoard[y].every(cell => cell === 1)) {\r\n                newBoard.splice(y, 1);\r\n                newBoard.unshift(Array(BOARD_WIDTH).fill(0));\r\n                linesCleared++;\r\n                y++;\r\n            }\r\n        }\r\n\r\n        if (linesCleared > 0) {\r\n            setScore(prev => prev + linesCleared * 100);\r\n            setBoard(newBoard);\r\n        }\r\n    }, []);\r\n\r\n    // 하드 드롭 함수\r\n    const hardDrop = useCallback(() => {\r\n        if (!currentBlock || gameOver) return;\r\n\r\n        let dropDistance = 0;\r\n        const shape = currentBlock.shape;\r\n        const startPosition = currentBlock.position;\r\n\r\n        // 최대 이동 가능 거리 계산\r\n        while (\r\n            isValidMove({ x: startPosition.x, y: startPosition.y + dropDistance + 1 }, shape)\r\n        ) {\r\n            dropDistance++;\r\n        }\r\n\r\n        // 최종 위치\r\n        const finalPosition = {\r\n            x: startPosition.x,\r\n            y: startPosition.y + dropDistance\r\n        };\r\n\r\n        // 블록을 보드에 바로 고정\r\n        const newBoard = [...board];\r\n        for (let y = 0; y < shape.length; y++) {\r\n            for (let x = 0; x < shape[y].length; x++) {\r\n                if (shape[y][x]) {\r\n                    const boardX = finalPosition.x + x;\r\n                    const boardY = finalPosition.y + y;\r\n\r\n                    if (boardY < 0 || (boardY < BOARD_HEIGHT && newBoard[boardY][boardX] === 1)) {\r\n                        handleGameOver();\r\n                        return;\r\n                    }\r\n\r\n                    if (boardY < BOARD_HEIGHT) {\r\n                        newBoard[boardY][boardX] = 1;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n        setBoard(newBoard);\r\n        checkLines(newBoard);\r\n        createNewBlock();\r\n    }, [currentBlock, board, gameOver, isValidMove, handleGameOver, checkLines, createNewBlock]);\r\n\r\n    // 게임 루프\r\n    useEffect(() => {\r\n        if (!isPlaying) return;\r\n\r\n        const gameLoop = setInterval(() => {\r\n            moveBlock(0, 1);\r\n        }, 1000);\r\n\r\n        return () => clearInterval(gameLoop);\r\n    }, [isPlaying, moveBlock]);\r\n\r\n    // 키보드 이벤트 처리\r\n    useEffect(() => {\r\n        const handleKeyPress = (e: KeyboardEvent) => {\r\n            if (!isPlaying) return;\r\n\r\n            switch (e.key) {\r\n                case 'ArrowLeft':\r\n                    moveBlock(-1, 0);\r\n                    break;\r\n                case 'ArrowRight':\r\n                    moveBlock(1, 0);\r\n                    break;\r\n                case 'ArrowDown':\r\n                    moveBlock(0, 1);\r\n                    break;\r\n                case 'ArrowUp':\r\n                    rotateBlock();\r\n                    break;\r\n                case ' ':\r\n                    hardDrop();\r\n                    break;\r\n            }\r\n        };\r\n\r\n        window.addEventListener('keydown', handleKeyPress);\r\n        return () => window.removeEventListener('keydown', handleKeyPress);\r\n    }, [isPlaying, moveBlock, rotateBlock, hardDrop]);\r\n\r\n    // 캔버스 렌더링\r\n    useEffect(() => {\r\n        const canvas = canvasRef.current;\r\n        if (!canvas) return;\r\n\r\n        const ctx = canvas.getContext('2d');\r\n        if (!ctx) return;\r\n\r\n        // 캔버스 초기화\r\n        ctx.clearRect(0, 0, canvas.width, canvas.height);\r\n\r\n        // 보드 그리기\r\n        for (let y = 0; y < BOARD_HEIGHT; y++) {\r\n            for (let x = 0; x < BOARD_WIDTH; x++) {\r\n                if (board[y][x]) {\r\n                    ctx.fillStyle = '#666';\r\n                    ctx.fillRect(x * BLOCK_SIZE, y * BLOCK_SIZE, BLOCK_SIZE - 1, BLOCK_SIZE - 1);\r\n                }\r\n            }\r\n        }\r\n\r\n        // 현재 블록 그리기\r\n        if (currentBlock) {\r\n            ctx.fillStyle = COLORS[currentBlock.type];\r\n            for (let y = 0; y < currentBlock.shape.length; y++) {\r\n                for (let x = 0; x < currentBlock.shape[y].length; x++) {\r\n                    if (currentBlock.shape[y][x]) {\r\n                        ctx.fillRect(\r\n                            (currentBlock.position.x + x) * BLOCK_SIZE,\r\n                            (currentBlock.position.y + y) * BLOCK_SIZE,\r\n                            BLOCK_SIZE - 1,\r\n                            BLOCK_SIZE - 1\r\n                        );\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }, [board, currentBlock]);\r\n\r\n    return (\r\n        <div className=\"flex flex-col items-center justify-center min-h-screen bg-gray-900 text-white\">\r\n            <h1 className=\"text-4xl font-bold mb-4\">테트리스</h1>\r\n            <div className=\"mb-4\">\r\n                <p className=\"text-xl\">점수: {score}</p>\r\n            </div>\r\n            <canvas\r\n                ref={canvasRef}\r\n                width={BOARD_WIDTH * BLOCK_SIZE}\r\n                height={BOARD_HEIGHT * BLOCK_SIZE}\r\n                className=\"border-2 border-gray-600\"\r\n            />\r\n            {!isPlaying && (\r\n                <button\r\n                    onClick={startGame}\r\n                    className=\"mt-4 px-6 py-2 bg-blue-500 hover:bg-blue-600 rounded-lg\"\r\n                >\r\n                    {gameOver ? '다시 시작' : '게임 시작'}\r\n                </button>\r\n            )}\r\n            {gameOver && (\r\n                <div className=\"mt-4 text-red-500 text-xl\">\r\n                    게임 오버!\r\n                </div>\r\n            )}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default TetrisGame; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}